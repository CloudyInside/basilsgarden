(()=>{document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelectorAll(".gallery img"),t=0,o=document.getElementById("fullscreen"),r=document.createElement("div"),c=document.createElement("div");r.textContent=" ",c.textContent=" ",r.className="arrow left-arrow",c.className="arrow right-arrow",o.appendChild(r),o.appendChild(c);function l(n){n<0?t=e.length-1:n>=e.length?t=0:t=n,console.log(e),o.style.backgroundImage=`url('${e[t].getAttribute("data-full")}')`,o.style.display="block"}e.forEach((n,a)=>{n.addEventListener("click",function(g){g.stopPropagation(),l(a)})}),r.addEventListener("click",function(n){n.stopPropagation(),l(t-1)}),c.addEventListener("click",function(n){n.stopPropagation(),l(t+1)}),o.addEventListener("click",function(n){n.stopPropagation(),this.style.display="none"})});function s(e){let t=e.querySelector("img");if(!t)return;let o=t.getBoundingClientRect().height,r=parseFloat(getComputedStyle(e).gap)||0;e.style.maxHeight=`${o+r}px`}function i(e){let t=e.querySelectorAll("img");if(t.length===0||[...t].every(o=>o.complete)){s(e);return}t.forEach(o=>{o.complete||o.addEventListener("load",()=>{[...t].every(r=>r.complete)&&s(e)})})}var u=new MutationObserver(e=>{e.forEach(t=>{t.addedNodes.forEach(o=>{o.nodeType===1&&(o.classList.contains("favs")&&i(o),o.querySelectorAll?.(".favs").forEach(i))})})});u.observe(document.body,{childList:!0,subtree:!0});var d=new ResizeObserver(e=>{e.forEach(t=>i(t.target))});document.querySelectorAll(".favs").forEach(e=>{i(e),d.observe(e)});})();
