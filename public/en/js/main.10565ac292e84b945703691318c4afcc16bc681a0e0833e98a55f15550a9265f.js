(()=>{document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelectorAll(".gallery img"),t=0,n=document.getElementById("fullscreen"),l=document.createElement("div"),r=document.createElement("div");l.textContent=" ",r.textContent=" ",l.className="arrow left-arrow",r.className="arrow right-arrow",n.appendChild(l),n.appendChild(r);function a(o){o<0?t=e.length-1:o>=e.length?t=0:t=o,console.log(e),n.style.backgroundImage=`url('${e[t].getAttribute("data-full")}')`,n.style.display="block"}e.forEach((o,i)=>{o.addEventListener("click",function(s){s.stopPropagation(),a(i)})}),l.addEventListener("click",function(o){o.stopPropagation(),a(t-1)}),r.addEventListener("click",function(o){o.stopPropagation(),a(t+1)}),n.addEventListener("click",function(o){o.stopPropagation(),this.style.display="none"})});function c(e){let t=e.querySelector("img");if(!t)return;let n=t.getBoundingClientRect().height,l=parseFloat(getComputedStyle(e).gap)||0,r=n+l;e.style.maxHeight=`${r}px`,console.log("Set grid height:",r,"px")}function d(){document.querySelectorAll(".favs").forEach(e=>{let t=e.querySelectorAll("img"),n=0;if(t.length===0){c(e);return}t.forEach(l=>{l.complete?n++:l.addEventListener("load",()=>{n++,n===t.length&&c(e)})}),n===t.length&&c(e)})}document.addEventListener("DOMContentLoaded",d);var g=new ResizeObserver(e=>{e.forEach(t=>{t.target.classList.contains("favs")&&c(t.target)})});document.querySelectorAll(".favs").forEach(e=>{g.observe(e)});})();
